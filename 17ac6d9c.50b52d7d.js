(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{67:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return s})),n.d(t,"toc",(function(){return a})),n.d(t,"default",(function(){return u}));var r=n(3),o=n(7),c=(n(0),n(93)),i={slug:"/guides/rsocket-js/client/rsocket-websocket-client",title:"RSocketWebsocketClient - rsocket-js",sidebar_label:"WebSocket Client"},s={unversionedId:"guides/rsocket-js/client/rsocket-websocket-client",id:"guides/rsocket-js/client/rsocket-websocket-client",isDocsHomePage:!1,title:"RSocketWebsocketClient - rsocket-js",description:"The RSocketWebsocketClient implements the RScocket protocol using the WebSocket network transport protocol, and is suitable for Server to Server, and Client to Server scenarios where raw TCP is not available, such as in a web browser.",source:"@site/content-docs/guides/rsocket-js/client/rsocket-websocket-client.mdx",slug:"/guides/rsocket-js/client/rsocket-websocket-client",permalink:"/guides/rsocket-js/client/rsocket-websocket-client",editUrl:"https://github.com/rsocket/rsocket-website/edit/master/content-docs/guides/rsocket-js/client/rsocket-websocket-client.mdx",version:"current",lastUpdatedBy:"Kevin Viglucci",lastUpdatedAt:1620584905,sidebar_label:"WebSocket Client",sidebar:"docs",previous:{title:"RSocketTCPClient - rsocket-js",permalink:"/guides/rsocket-js/client/rsocket-tcp-client"},next:{title:"RSocketServer - rsocket-js",permalink:"/guides/rsocket-js/server"}},a=[{value:"WebSocket Client Quick Start Example",id:"websocket-client-quick-start-example",children:[]}],l={toc:a};function u(e){var t=e.components,n=Object(o.a)(e,["components"]);return Object(c.b)("wrapper",Object(r.a)({},l,n,{components:t,mdxType:"MDXLayout"}),Object(c.b)("p",null,"The ",Object(c.b)("inlineCode",{parentName:"p"},"RSocketWebsocketClient")," implements the RScocket protocol using the WebSocket network transport protocol, and is suitable for Server to Server, and Client to Server scenarios where raw TCP is not available, such as in a web browser."),Object(c.b)("h3",{id:"websocket-client-quick-start-example"},"WebSocket Client Quick Start Example"),Object(c.b)("pre",null,Object(c.b)("code",Object(r.a)({parentName:"pre"},{}),"npm install rsocket-core rsocket-websocket-client\n")),Object(c.b)("pre",null,Object(c.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),"const { RSocketClient } = require('rsocket-core');\nconst RSocketWebsocketClient = require('rsocket-websocket-client').default;\nconst WebSocket = require('ws');\n\nasync function createClient(options) {\n  const transportOptions = {\n    url: 'ws://`${options.host}`:${options.port}',\n    // In non-browser environments we need to provide a\n    // factory method which can return an instance of a\n    // websocket object. Browsers however, have this\n    // functionality built-in.\n    wsCreator: (url) => {\n      return new WebSocket(url);\n    }\n  };\n  const setupOptions = {\n    keepAlive: 1000000,\n    lifetime: 100000,\n    dataMimeType: 'text/plain',\n    metadataMimeType: 'text/plain'\n  };\n  const transport = new RSocketWebsocketClient(transportOptions);\n  const client = new RSocketClient({ setup: setupOptions, transport });\n  return await client.connect();\n}\n\nasync function run() {\n  const rsocket = await createClient({\n    host: '127.0.0.1',\n    port: 9898,\n  });\n\n  ...\n}\n\nawait run();\n")))}u.isMDXComponent=!0},93:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return d}));var r=n(0),o=n.n(r);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=o.a.createContext({}),u=function(e){var t=o.a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},p=function(e){var t=u(e.components);return o.a.createElement(l.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},k=o.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,c=e.originalType,i=e.parentName,l=a(e,["components","mdxType","originalType","parentName"]),p=u(n),k=r,d=p["".concat(i,".").concat(k)]||p[k]||b[k]||c;return n?o.a.createElement(d,s(s({ref:t},l),{},{components:n})):o.a.createElement(d,s({ref:t},l))}));function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var c=n.length,i=new Array(c);i[0]=k;var s={};for(var a in t)hasOwnProperty.call(t,a)&&(s[a]=t[a]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var l=2;l<c;l++)i[l]=n[l];return o.a.createElement.apply(null,i)}return o.a.createElement.apply(null,n)}k.displayName="MDXCreateElement"}}]);